(()=>{var a=window.location.hostname==="localhost"?"http://localhost:3000":"https://librairie-simple-production-6ca3.up.railway.app",n=a;var s=document.querySelector("form");s.addEventListener("submit",async r=>{r.preventDefault();let e=document.querySelector("#username").value.trim(),o=document.querySelector("#password").value.trim();if(!e||!o){alert("Champ requis");return}let t={username:e,password:o};console.log("Payload de connexion :",t),await i(t)});async function i(r){try{let o=await(await fetch(`${n}/api/auth/login`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)})).json();if(!o.ok)throw new Error("Erreur API");console.log("R\xE9ponse du serveur :",o),alert("Inscription r\xE9ussie ! Vous pouvez maintenant vous connecter."),window.location.href="/"}catch(e){console.error("Erreur lors de l'envoie des donn\xE9es :",e),alert(`Erreur: ${e.message}`)}}})();
